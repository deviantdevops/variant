{"id":"g6oe","dependencies":[{"name":"/home/hibberdk/Sites/XILOBYTE/variant/package.json","includedInParent":true,"mtime":1625901220329},{"name":"express","loc":{"line":1,"column":24},"parent":"/home/hibberdk/Sites/XILOBYTE/variant/routes/v1Router.js","resolved":"/home/hibberdk/Sites/XILOBYTE/variant/node_modules/express/index.js"},{"name":"validate.js","loc":{"line":3,"column":25},"parent":"/home/hibberdk/Sites/XILOBYTE/variant/routes/v1Router.js","resolved":"/home/hibberdk/Sites/XILOBYTE/variant/node_modules/validate.js/validate.js"},{"name":"throttled-queue","loc":{"line":4,"column":31},"parent":"/home/hibberdk/Sites/XILOBYTE/variant/routes/v1Router.js","resolved":"/home/hibberdk/Sites/XILOBYTE/variant/node_modules/throttled-queue/throttled-queue.js"},{"name":"../blockchain/blockchain","loc":{"line":7,"column":27},"parent":"/home/hibberdk/Sites/XILOBYTE/variant/routes/v1Router.js","resolved":"/home/hibberdk/Sites/XILOBYTE/variant/blockchain/blockchain.js"},{"name":"../wallet/transaction_pool","loc":{"line":8,"column":32},"parent":"/home/hibberdk/Sites/XILOBYTE/variant/routes/v1Router.js","resolved":"/home/hibberdk/Sites/XILOBYTE/variant/wallet/transaction_pool.js"},{"name":"../wallet/wallet","loc":{"line":9,"column":23},"parent":"/home/hibberdk/Sites/XILOBYTE/variant/routes/v1Router.js","resolved":"/home/hibberdk/Sites/XILOBYTE/variant/wallet/wallet.js"}],"generated":{"js":"function e(e,n,t,r,a,s,c){try{var o=e[s](c),u=o.value}catch(i){return void t(i)}o.done?n(u):Promise.resolve(u).then(r,a)}function n(n){return function(){var t=this,r=arguments;return new Promise(function(a,s){var c=n.apply(t,r);function o(n){e(c,a,s,o,u,\"next\",n)}function u(n){e(c,a,s,o,u,\"throw\",n)}o(void 0)})}}var t=require(\"express\"),r=t.Router(),a=require(\"validate.js\"),s=require(\"throttled-queue\"),c=s(1,1e3),o=require(\"../blockchain/blockchain\"),u=require(\"../wallet/transaction_pool\"),i=require(\"../wallet/wallet\"),p=(new o).getInstance(),l=new u,d=new i;r.get(\"/\",function(e,n,t){return n.status(200).send(\"Spectre Blockchain API\").end()}),r.get(\"/blocks\",function(e,n,t){return n.status(200).json(p.chain()).end()}),r.post(\"/mine\",function(e,n,t){p.addBlock(e.body.data).then(function(e){return n.status(200).json(e).end()})}),r.post(\"/transaction\",function(e,t,r){var s=e.body,c=l.existingTransaction({inputAddress:d.publicKey});a.async(s,{amount:{presence:!0,type:\"number\"},recipient:{presence:!0,type:\"string\"}}).then(function(){var e=n(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=14;break}return e.prev=1,c=d.createTransaction({recipient:s.recipient,amount:s.amount}),console.log(\"Transaction: \".concat(c)),l.setTransaction(c),console.log(\"TransactionPool: \".concat(l)),e.abrupt(\"return\",t.status(200).json({type:\"success\",transaction:c}).end());case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt(\"return\",t.status(400).json({type:\"error 52\",message:e.t0.message}).end());case 12:e.next=22;break;case 14:return e.prev=14,c.update({senderWallet:d,recipient:s.recipient,amount:s.amount}),e.abrupt(\"return\",t.status(200).json({type:\"success\",transaction:c}).end());case 19:return e.prev=19,e.t1=e.catch(14),e.abrupt(\"return\",t.status(400).json({type:\"error 63\",message:e.t1.message}).end());case 22:case\"end\":return e.stop()}},e,null,[[1,9],[14,19]])}));return function(n){return e.apply(this,arguments)}}()).catch(function(e){console.log(e.message),t.status(400).send(e.message).end()})}),r.get(\"/wallet\",function(e,t,r){var s=e.query;a.async(s,{address:{presence:!0,type:\"string\"}}).then(function(){var e=n(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=s.address,t.status(200).json({address:r,balance:i.calculateBalance({chain:p.chain,address:r})}).end();case 2:case\"end\":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()).catch(function(e){return console.log(e),t.status(400).send(e)})}),module.exports=r;"},"sourceMaps":{"js":{"mappings":[{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":0}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":9}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":11}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":13}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":15}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":17}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":19}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":21}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":23}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":26}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":30}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":34}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":36}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":38}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":41}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":44}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":46}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":48}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":54}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":60}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":63}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":75}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":77}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":80}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":82}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":87}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":89}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":92}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":100}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":108}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":111}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":116}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":118}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":121}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":130}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":132}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":135}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":142}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":153}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":157}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":159}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":164}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":166}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":176}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":183}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":187}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":195}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":204}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":206}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":209}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":213}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":215}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":217}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":223}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":225}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":228}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":237}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":239}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":242}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":244}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":246}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":248}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":250}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":252}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":254}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":261}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":264}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":273}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":275}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":278}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":280}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":282}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":284}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":286}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":288}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":290}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":298}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":301}},{"source":"routes/v1Router.js","original":{"line":104,"column":0},"generated":{"line":1,"column":308}},{"source":"routes/v1Router.js","original":{"line":1,"column":0},"generated":{"line":1,"column":314}},{"source":"routes/v1Router.js","name":"express","original":{"line":1,"column":6},"generated":{"line":1,"column":318}},{"source":"routes/v1Router.js","name":"require","original":{"line":1,"column":16},"generated":{"line":1,"column":320}},{"source":"routes/v1Router.js","original":{"line":1,"column":24},"generated":{"line":1,"column":328}},{"source":"routes/v1Router.js","name":"router","original":{"line":2,"column":6},"generated":{"line":1,"column":339}},{"source":"routes/v1Router.js","name":"express","original":{"line":2,"column":15},"generated":{"line":1,"column":341}},{"source":"routes/v1Router.js","name":"Router","original":{"line":2,"column":23},"generated":{"line":1,"column":343}},{"source":"routes/v1Router.js","name":"Validate","original":{"line":3,"column":6},"generated":{"line":1,"column":352}},{"source":"routes/v1Router.js","name":"require","original":{"line":3,"column":17},"generated":{"line":1,"column":354}},{"source":"routes/v1Router.js","original":{"line":3,"column":25},"generated":{"line":1,"column":362}},{"source":"routes/v1Router.js","name":"throttledQueue","original":{"line":4,"column":6},"generated":{"line":1,"column":377}},{"source":"routes/v1Router.js","name":"require","original":{"line":4,"column":23},"generated":{"line":1,"column":379}},{"source":"routes/v1Router.js","original":{"line":4,"column":31},"generated":{"line":1,"column":387}},{"source":"routes/v1Router.js","name":"throttle","original":{"line":5,"column":6},"generated":{"line":1,"column":406}},{"source":"routes/v1Router.js","name":"throttledQueue","original":{"line":5,"column":17},"generated":{"line":1,"column":408}},{"source":"routes/v1Router.js","original":{"line":5,"column":32},"generated":{"line":1,"column":410}},{"source":"routes/v1Router.js","original":{"line":5,"column":35},"generated":{"line":1,"column":412}},{"source":"routes/v1Router.js","name":"Blockchain","original":{"line":7,"column":6},"generated":{"line":1,"column":417}},{"source":"routes/v1Router.js","name":"require","original":{"line":7,"column":19},"generated":{"line":1,"column":419}},{"source":"routes/v1Router.js","original":{"line":7,"column":27},"generated":{"line":1,"column":427}},{"source":"routes/v1Router.js","name":"TransactionPool","original":{"line":8,"column":6},"generated":{"line":1,"column":455}},{"source":"routes/v1Router.js","name":"require","original":{"line":8,"column":24},"generated":{"line":1,"column":457}},{"source":"routes/v1Router.js","original":{"line":8,"column":32},"generated":{"line":1,"column":465}},{"source":"routes/v1Router.js","name":"Wallet","original":{"line":9,"column":6},"generated":{"line":1,"column":495}},{"source":"routes/v1Router.js","name":"require","original":{"line":9,"column":15},"generated":{"line":1,"column":497}},{"source":"routes/v1Router.js","original":{"line":9,"column":23},"generated":{"line":1,"column":505}},{"source":"routes/v1Router.js","name":"blockchain","original":{"line":11,"column":6},"generated":{"line":1,"column":525}},{"source":"routes/v1Router.js","original":{"line":11,"column":19},"generated":{"line":1,"column":528}},{"source":"routes/v1Router.js","name":"Blockchain","original":{"line":11,"column":23},"generated":{"line":1,"column":532}},{"source":"routes/v1Router.js","name":"getInstance","original":{"line":11,"column":36},"generated":{"line":1,"column":535}},{"source":"routes/v1Router.js","name":"transactionPool","original":{"line":12,"column":6},"generated":{"line":1,"column":549}},{"source":"routes/v1Router.js","original":{"line":12,"column":24},"generated":{"line":1,"column":551}},{"source":"routes/v1Router.js","name":"TransactionPool","original":{"line":12,"column":28},"generated":{"line":1,"column":555}},{"source":"routes/v1Router.js","name":"wallet","original":{"line":13,"column":6},"generated":{"line":1,"column":557}},{"source":"routes/v1Router.js","original":{"line":13,"column":15},"generated":{"line":1,"column":559}},{"source":"routes/v1Router.js","name":"Wallet","original":{"line":13,"column":19},"generated":{"line":1,"column":563}},{"source":"routes/v1Router.js","name":"router","original":{"line":16,"column":0},"generated":{"line":1,"column":565}},{"source":"routes/v1Router.js","name":"get","original":{"line":16,"column":7},"generated":{"line":1,"column":567}},{"source":"routes/v1Router.js","original":{"line":16,"column":11},"generated":{"line":1,"column":571}},{"source":"routes/v1Router.js","original":{"line":16,"column":16},"generated":{"line":1,"column":575}},{"source":"routes/v1Router.js","name":"req","original":{"line":16,"column":25},"generated":{"line":1,"column":584}},{"source":"routes/v1Router.js","name":"res","original":{"line":16,"column":30},"generated":{"line":1,"column":586}},{"source":"routes/v1Router.js","name":"next","original":{"line":16,"column":35},"generated":{"line":1,"column":588}},{"source":"routes/v1Router.js","name":"res","original":{"line":17,"column":11},"generated":{"line":1,"column":591}},{"source":"routes/v1Router.js","name":"res","original":{"line":17,"column":11},"generated":{"line":1,"column":598}},{"source":"routes/v1Router.js","name":"status","original":{"line":17,"column":15},"generated":{"line":1,"column":600}},{"source":"routes/v1Router.js","original":{"line":17,"column":22},"generated":{"line":1,"column":607}},{"source":"routes/v1Router.js","name":"send","original":{"line":17,"column":27},"generated":{"line":1,"column":612}},{"source":"routes/v1Router.js","original":{"line":17,"column":32},"generated":{"line":1,"column":617}},{"source":"routes/v1Router.js","name":"end","original":{"line":17,"column":58},"generated":{"line":1,"column":643}},{"source":"routes/v1Router.js","name":"router","original":{"line":20,"column":0},"generated":{"line":1,"column":651}},{"source":"routes/v1Router.js","name":"get","original":{"line":20,"column":7},"generated":{"line":1,"column":653}},{"source":"routes/v1Router.js","original":{"line":20,"column":11},"generated":{"line":1,"column":657}},{"source":"routes/v1Router.js","original":{"line":20,"column":22},"generated":{"line":1,"column":667}},{"source":"routes/v1Router.js","name":"req","original":{"line":20,"column":31},"generated":{"line":1,"column":676}},{"source":"routes/v1Router.js","name":"res","original":{"line":20,"column":36},"generated":{"line":1,"column":678}},{"source":"routes/v1Router.js","name":"next","original":{"line":20,"column":41},"generated":{"line":1,"column":680}},{"source":"routes/v1Router.js","name":"res","original":{"line":22,"column":11},"generated":{"line":1,"column":683}},{"source":"routes/v1Router.js","name":"res","original":{"line":22,"column":11},"generated":{"line":1,"column":690}},{"source":"routes/v1Router.js","name":"status","original":{"line":22,"column":15},"generated":{"line":1,"column":692}},{"source":"routes/v1Router.js","original":{"line":22,"column":22},"generated":{"line":1,"column":699}},{"source":"routes/v1Router.js","name":"json","original":{"line":22,"column":27},"generated":{"line":1,"column":704}},{"source":"routes/v1Router.js","name":"blockchain","original":{"line":22,"column":32},"generated":{"line":1,"column":709}},{"source":"routes/v1Router.js","name":"chain","original":{"line":22,"column":43},"generated":{"line":1,"column":711}},{"source":"routes/v1Router.js","name":"end","original":{"line":22,"column":52},"generated":{"line":1,"column":720}},{"source":"routes/v1Router.js","name":"router","original":{"line":25,"column":0},"generated":{"line":1,"column":728}},{"source":"routes/v1Router.js","name":"post","original":{"line":25,"column":7},"generated":{"line":1,"column":730}},{"source":"routes/v1Router.js","original":{"line":25,"column":12},"generated":{"line":1,"column":735}},{"source":"routes/v1Router.js","original":{"line":25,"column":21},"generated":{"line":1,"column":743}},{"source":"routes/v1Router.js","name":"req","original":{"line":25,"column":30},"generated":{"line":1,"column":752}},{"source":"routes/v1Router.js","name":"res","original":{"line":25,"column":35},"generated":{"line":1,"column":754}},{"source":"routes/v1Router.js","name":"next","original":{"line":25,"column":40},"generated":{"line":1,"column":756}},{"source":"routes/v1Router.js","name":"blockchain","original":{"line":26,"column":4},"generated":{"line":1,"column":759}},{"source":"routes/v1Router.js","name":"addBlock","original":{"line":26,"column":15},"generated":{"line":1,"column":761}},{"source":"routes/v1Router.js","name":"req","original":{"line":26,"column":24},"generated":{"line":1,"column":770}},{"source":"routes/v1Router.js","name":"body","original":{"line":26,"column":28},"generated":{"line":1,"column":772}},{"source":"routes/v1Router.js","name":"data","original":{"line":26,"column":33},"generated":{"line":1,"column":777}},{"source":"routes/v1Router.js","name":"then","original":{"line":27,"column":5},"generated":{"line":1,"column":783}},{"source":"routes/v1Router.js","original":{"line":27,"column":10},"generated":{"line":1,"column":788}},{"source":"routes/v1Router.js","name":"newBlock","original":{"line":27,"column":10},"generated":{"line":1,"column":797}},{"source":"routes/v1Router.js","name":"res","original":{"line":28,"column":15},"generated":{"line":1,"column":800}},{"source":"routes/v1Router.js","name":"res","original":{"line":28,"column":15},"generated":{"line":1,"column":807}},{"source":"routes/v1Router.js","name":"status","original":{"line":28,"column":19},"generated":{"line":1,"column":809}},{"source":"routes/v1Router.js","original":{"line":28,"column":26},"generated":{"line":1,"column":816}},{"source":"routes/v1Router.js","name":"json","original":{"line":28,"column":31},"generated":{"line":1,"column":821}},{"source":"routes/v1Router.js","name":"newBlock","original":{"line":28,"column":36},"generated":{"line":1,"column":826}},{"source":"routes/v1Router.js","name":"end","original":{"line":28,"column":46},"generated":{"line":1,"column":829}},{"source":"routes/v1Router.js","name":"router","original":{"line":32,"column":0},"generated":{"line":1,"column":839}},{"source":"routes/v1Router.js","name":"post","original":{"line":32,"column":7},"generated":{"line":1,"column":841}},{"source":"routes/v1Router.js","original":{"line":32,"column":12},"generated":{"line":1,"column":846}},{"source":"routes/v1Router.js","original":{"line":32,"column":28},"generated":{"line":1,"column":861}},{"source":"routes/v1Router.js","name":"req","original":{"line":32,"column":37},"generated":{"line":1,"column":870}},{"source":"routes/v1Router.js","name":"res","original":{"line":32,"column":42},"generated":{"line":1,"column":872}},{"source":"routes/v1Router.js","name":"next","original":{"line":32,"column":47},"generated":{"line":1,"column":874}},{"source":"routes/v1Router.js","name":"params","original":{"line":34,"column":8},"generated":{"line":1,"column":877}},{"source":"routes/v1Router.js","name":"params","original":{"line":34,"column":8},"generated":{"line":1,"column":881}},{"source":"routes/v1Router.js","name":"req","original":{"line":34,"column":17},"generated":{"line":1,"column":883}},{"source":"routes/v1Router.js","name":"body","original":{"line":34,"column":21},"generated":{"line":1,"column":885}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":35,"column":8},"generated":{"line":1,"column":890}},{"source":"routes/v1Router.js","name":"transactionPool","original":{"line":35,"column":22},"generated":{"line":1,"column":892}},{"source":"routes/v1Router.js","name":"existingTransaction","original":{"line":35,"column":38},"generated":{"line":1,"column":894}},{"source":"routes/v1Router.js","original":{"line":35,"column":58},"generated":{"line":1,"column":914}},{"source":"routes/v1Router.js","name":"inputAddress","original":{"line":35,"column":59},"generated":{"line":1,"column":915}},{"source":"routes/v1Router.js","name":"wallet","original":{"line":35,"column":73},"generated":{"line":1,"column":928}},{"source":"routes/v1Router.js","name":"publicKey","original":{"line":35,"column":80},"generated":{"line":1,"column":930}},{"source":"routes/v1Router.js","name":"Validate","original":{"line":40,"column":4},"generated":{"line":1,"column":942}},{"source":"routes/v1Router.js","name":"async","original":{"line":40,"column":13},"generated":{"line":1,"column":944}},{"source":"routes/v1Router.js","name":"params","original":{"line":40,"column":19},"generated":{"line":1,"column":950}},{"source":"routes/v1Router.js","original":{"line":36,"column":22},"generated":{"line":1,"column":952}},{"source":"routes/v1Router.js","original":{"line":37,"column":18},"generated":{"line":1,"column":953}},{"source":"routes/v1Router.js","original":{"line":37,"column":18},"generated":{"line":1,"column":960}},{"source":"routes/v1Router.js","name":"presence","original":{"line":37,"column":20},"generated":{"line":1,"column":961}},{"source":"routes/v1Router.js","original":{"line":37,"column":30},"generated":{"line":1,"column":971}},{"source":"routes/v1Router.js","name":"type","original":{"line":37,"column":36},"generated":{"line":1,"column":973}},{"source":"routes/v1Router.js","original":{"line":37,"column":42},"generated":{"line":1,"column":978}},{"source":"routes/v1Router.js","original":{"line":38,"column":21},"generated":{"line":1,"column":988}},{"source":"routes/v1Router.js","original":{"line":38,"column":21},"generated":{"line":1,"column":998}},{"source":"routes/v1Router.js","name":"presence","original":{"line":38,"column":23},"generated":{"line":1,"column":999}},{"source":"routes/v1Router.js","original":{"line":38,"column":33},"generated":{"line":1,"column":1009}},{"source":"routes/v1Router.js","name":"type","original":{"line":38,"column":39},"generated":{"line":1,"column":1011}},{"source":"routes/v1Router.js","original":{"line":38,"column":45},"generated":{"line":1,"column":1016}},{"source":"routes/v1Router.js","name":"then","original":{"line":41,"column":9},"generated":{"line":1,"column":1028}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":1033}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1044}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1048}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1050}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1052}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1071}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1076}},{"source":"routes/v1Router.js","name":"success","original":{"line":41,"column":22},"generated":{"line":1,"column":1085}},{"source":"routes/v1Router.js","name":"success","original":{"line":41,"column":22},"generated":{"line":1,"column":1087}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1090}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1097}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1116}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1121}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1130}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1133}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1140}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1147}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1149}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1154}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1156}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1162}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1167}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":42,"column":16},"generated":{"line":1,"column":1169}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":42,"column":16},"generated":{"line":1,"column":1172}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1174}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1175}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1177}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1182}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1185}},{"source":"routes/v1Router.js","name":"res","original":{"line":55,"column":27},"generated":{"line":1,"column":1191}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1198}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1200}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1205}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":44,"column":20},"generated":{"line":1,"column":1207}},{"source":"routes/v1Router.js","name":"wallet","original":{"line":44,"column":34},"generated":{"line":1,"column":1209}},{"source":"routes/v1Router.js","name":"createTransaction","original":{"line":44,"column":41},"generated":{"line":1,"column":1211}},{"source":"routes/v1Router.js","original":{"line":44,"column":59},"generated":{"line":1,"column":1229}},{"source":"routes/v1Router.js","name":"recipient","original":{"line":45,"column":24},"generated":{"line":1,"column":1230}},{"source":"routes/v1Router.js","name":"params","original":{"line":45,"column":35},"generated":{"line":1,"column":1240}},{"source":"routes/v1Router.js","name":"recipient","original":{"line":45,"column":42},"generated":{"line":1,"column":1242}},{"source":"routes/v1Router.js","name":"amount","original":{"line":46,"column":24},"generated":{"line":1,"column":1252}},{"source":"routes/v1Router.js","name":"params","original":{"line":46,"column":32},"generated":{"line":1,"column":1259}},{"source":"routes/v1Router.js","name":"amount","original":{"line":46,"column":39},"generated":{"line":1,"column":1261}},{"source":"routes/v1Router.js","name":"console","original":{"line":49,"column":20},"generated":{"line":1,"column":1270}},{"source":"routes/v1Router.js","name":"log","original":{"line":49,"column":28},"generated":{"line":1,"column":1278}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":49,"column":48},"generated":{"line":1,"column":1282}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":49,"column":48},"generated":{"line":1,"column":1298}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":49,"column":48},"generated":{"line":1,"column":1305}},{"source":"routes/v1Router.js","name":"transactionPool","original":{"line":53,"column":20},"generated":{"line":1,"column":1309}},{"source":"routes/v1Router.js","name":"setTransaction","original":{"line":53,"column":36},"generated":{"line":1,"column":1311}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":53,"column":51},"generated":{"line":1,"column":1326}},{"source":"routes/v1Router.js","name":"console","original":{"line":54,"column":20},"generated":{"line":1,"column":1329}},{"source":"routes/v1Router.js","name":"log","original":{"line":54,"column":28},"generated":{"line":1,"column":1337}},{"source":"routes/v1Router.js","name":"transactionPool","original":{"line":54,"column":52},"generated":{"line":1,"column":1341}},{"source":"routes/v1Router.js","name":"transactionPool","original":{"line":54,"column":52},"generated":{"line":1,"column":1361}},{"source":"routes/v1Router.js","name":"transactionPool","original":{"line":54,"column":52},"generated":{"line":1,"column":1368}},{"source":"routes/v1Router.js","name":"res","original":{"line":55,"column":27},"generated":{"line":1,"column":1372}},{"source":"routes/v1Router.js","name":"res","original":{"line":55,"column":27},"generated":{"line":1,"column":1374}},{"source":"routes/v1Router.js","name":"res","original":{"line":55,"column":27},"generated":{"line":1,"column":1381}},{"source":"routes/v1Router.js","name":"res","original":{"line":55,"column":27},"generated":{"line":1,"column":1390}},{"source":"routes/v1Router.js","name":"status","original":{"line":55,"column":31},"generated":{"line":1,"column":1392}},{"source":"routes/v1Router.js","original":{"line":55,"column":38},"generated":{"line":1,"column":1399}},{"source":"routes/v1Router.js","name":"json","original":{"line":55,"column":43},"generated":{"line":1,"column":1404}},{"source":"routes/v1Router.js","original":{"line":55,"column":48},"generated":{"line":1,"column":1409}},{"source":"routes/v1Router.js","name":"type","original":{"line":55,"column":49},"generated":{"line":1,"column":1410}},{"source":"routes/v1Router.js","original":{"line":55,"column":54},"generated":{"line":1,"column":1415}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":55,"column":65},"generated":{"line":1,"column":1425}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":55,"column":65},"generated":{"line":1,"column":1437}},{"source":"routes/v1Router.js","name":"end","original":{"line":55,"column":79},"generated":{"line":1,"column":1441}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1448}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1453}},{"source":"routes/v1Router.js","name":"res","original":{"line":57,"column":27},"generated":{"line":1,"column":1455}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1462}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1464}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1469}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1471}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1473}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1476}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1478}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1484}},{"source":"routes/v1Router.js","name":"res","original":{"line":57,"column":27},"generated":{"line":1,"column":1487}},{"source":"routes/v1Router.js","name":"res","original":{"line":57,"column":27},"generated":{"line":1,"column":1489}},{"source":"routes/v1Router.js","name":"res","original":{"line":57,"column":27},"generated":{"line":1,"column":1496}},{"source":"routes/v1Router.js","name":"res","original":{"line":57,"column":27},"generated":{"line":1,"column":1505}},{"source":"routes/v1Router.js","name":"status","original":{"line":57,"column":31},"generated":{"line":1,"column":1507}},{"source":"routes/v1Router.js","original":{"line":57,"column":38},"generated":{"line":1,"column":1514}},{"source":"routes/v1Router.js","name":"json","original":{"line":57,"column":43},"generated":{"line":1,"column":1519}},{"source":"routes/v1Router.js","original":{"line":57,"column":48},"generated":{"line":1,"column":1524}},{"source":"routes/v1Router.js","name":"type","original":{"line":57,"column":49},"generated":{"line":1,"column":1525}},{"source":"routes/v1Router.js","original":{"line":57,"column":55},"generated":{"line":1,"column":1530}},{"source":"routes/v1Router.js","name":"message","original":{"line":57,"column":67},"generated":{"line":1,"column":1541}},{"source":"routes/v1Router.js","original":{"line":57,"column":76},"generated":{"line":1,"column":1549}},{"source":"routes/v1Router.js","name":"message","original":{"line":57,"column":82},"generated":{"line":1,"column":1551}},{"source":"routes/v1Router.js","name":"message","original":{"line":57,"column":82},"generated":{"line":1,"column":1554}},{"source":"routes/v1Router.js","name":"end","original":{"line":57,"column":92},"generated":{"line":1,"column":1564}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1571}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1576}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1579}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1581}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1586}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1589}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1595}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1600}},{"source":"routes/v1Router.js","name":"res","original":{"line":66,"column":27},"generated":{"line":1,"column":1603}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1610}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1612}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1617}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":61,"column":20},"generated":{"line":1,"column":1620}},{"source":"routes/v1Router.js","name":"update","original":{"line":61,"column":32},"generated":{"line":1,"column":1622}},{"source":"routes/v1Router.js","original":{"line":61,"column":39},"generated":{"line":1,"column":1629}},{"source":"routes/v1Router.js","name":"senderWallet","original":{"line":62,"column":24},"generated":{"line":1,"column":1630}},{"source":"routes/v1Router.js","name":"wallet","original":{"line":62,"column":38},"generated":{"line":1,"column":1643}},{"source":"routes/v1Router.js","name":"recipient","original":{"line":63,"column":24},"generated":{"line":1,"column":1645}},{"source":"routes/v1Router.js","name":"params","original":{"line":63,"column":35},"generated":{"line":1,"column":1655}},{"source":"routes/v1Router.js","name":"recipient","original":{"line":63,"column":42},"generated":{"line":1,"column":1657}},{"source":"routes/v1Router.js","name":"amount","original":{"line":64,"column":24},"generated":{"line":1,"column":1667}},{"source":"routes/v1Router.js","name":"params","original":{"line":64,"column":32},"generated":{"line":1,"column":1674}},{"source":"routes/v1Router.js","name":"amount","original":{"line":64,"column":39},"generated":{"line":1,"column":1676}},{"source":"routes/v1Router.js","name":"res","original":{"line":66,"column":27},"generated":{"line":1,"column":1685}},{"source":"routes/v1Router.js","name":"res","original":{"line":66,"column":27},"generated":{"line":1,"column":1687}},{"source":"routes/v1Router.js","name":"res","original":{"line":66,"column":27},"generated":{"line":1,"column":1694}},{"source":"routes/v1Router.js","name":"res","original":{"line":66,"column":27},"generated":{"line":1,"column":1703}},{"source":"routes/v1Router.js","name":"status","original":{"line":66,"column":31},"generated":{"line":1,"column":1705}},{"source":"routes/v1Router.js","original":{"line":66,"column":38},"generated":{"line":1,"column":1712}},{"source":"routes/v1Router.js","name":"json","original":{"line":66,"column":43},"generated":{"line":1,"column":1717}},{"source":"routes/v1Router.js","original":{"line":66,"column":48},"generated":{"line":1,"column":1722}},{"source":"routes/v1Router.js","name":"type","original":{"line":66,"column":49},"generated":{"line":1,"column":1723}},{"source":"routes/v1Router.js","original":{"line":66,"column":54},"generated":{"line":1,"column":1728}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":66,"column":65},"generated":{"line":1,"column":1738}},{"source":"routes/v1Router.js","name":"transaction","original":{"line":66,"column":65},"generated":{"line":1,"column":1750}},{"source":"routes/v1Router.js","name":"end","original":{"line":66,"column":79},"generated":{"line":1,"column":1754}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1761}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1766}},{"source":"routes/v1Router.js","name":"res","original":{"line":68,"column":27},"generated":{"line":1,"column":1769}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1776}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1778}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1783}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1786}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1788}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1791}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1793}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1799}},{"source":"routes/v1Router.js","name":"res","original":{"line":68,"column":27},"generated":{"line":1,"column":1803}},{"source":"routes/v1Router.js","name":"res","original":{"line":68,"column":27},"generated":{"line":1,"column":1805}},{"source":"routes/v1Router.js","name":"res","original":{"line":68,"column":27},"generated":{"line":1,"column":1812}},{"source":"routes/v1Router.js","name":"res","original":{"line":68,"column":27},"generated":{"line":1,"column":1821}},{"source":"routes/v1Router.js","name":"status","original":{"line":68,"column":31},"generated":{"line":1,"column":1823}},{"source":"routes/v1Router.js","original":{"line":68,"column":38},"generated":{"line":1,"column":1830}},{"source":"routes/v1Router.js","name":"json","original":{"line":68,"column":43},"generated":{"line":1,"column":1835}},{"source":"routes/v1Router.js","original":{"line":68,"column":48},"generated":{"line":1,"column":1840}},{"source":"routes/v1Router.js","name":"type","original":{"line":68,"column":49},"generated":{"line":1,"column":1841}},{"source":"routes/v1Router.js","original":{"line":68,"column":55},"generated":{"line":1,"column":1846}},{"source":"routes/v1Router.js","name":"message","original":{"line":68,"column":67},"generated":{"line":1,"column":1857}},{"source":"routes/v1Router.js","original":{"line":68,"column":76},"generated":{"line":1,"column":1865}},{"source":"routes/v1Router.js","name":"message","original":{"line":68,"column":82},"generated":{"line":1,"column":1867}},{"source":"routes/v1Router.js","name":"message","original":{"line":68,"column":82},"generated":{"line":1,"column":1870}},{"source":"routes/v1Router.js","name":"end","original":{"line":68,"column":92},"generated":{"line":1,"column":1880}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1887}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1892}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1895}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1899}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1905}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1912}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1914}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1923}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1925}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1930}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1931}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1932}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1934}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1937}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1938}},{"source":"routes/v1Router.js","original":{"line":41,"column":15},"generated":{"line":1,"column":1941}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":1950}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":1957}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":1966}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":1969}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":1976}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":1978}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":1984}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":1989}},{"source":"routes/v1Router.js","original":{"line":40,"column":4},"generated":{"line":1,"column":2001}},{"source":"routes/v1Router.js","name":"catch","original":{"line":74,"column":9},"generated":{"line":1,"column":2005}},{"source":"routes/v1Router.js","original":{"line":74,"column":15},"generated":{"line":1,"column":2011}},{"source":"routes/v1Router.js","name":"err","original":{"line":74,"column":16},"generated":{"line":1,"column":2020}},{"source":"routes/v1Router.js","name":"console","original":{"line":75,"column":12},"generated":{"line":1,"column":2023}},{"source":"routes/v1Router.js","name":"log","original":{"line":75,"column":20},"generated":{"line":1,"column":2031}},{"source":"routes/v1Router.js","name":"err","original":{"line":75,"column":24},"generated":{"line":1,"column":2035}},{"source":"routes/v1Router.js","name":"message","original":{"line":75,"column":28},"generated":{"line":1,"column":2037}},{"source":"routes/v1Router.js","name":"res","original":{"line":76,"column":12},"generated":{"line":1,"column":2046}},{"source":"routes/v1Router.js","name":"status","original":{"line":76,"column":16},"generated":{"line":1,"column":2048}},{"source":"routes/v1Router.js","original":{"line":76,"column":23},"generated":{"line":1,"column":2055}},{"source":"routes/v1Router.js","name":"send","original":{"line":76,"column":28},"generated":{"line":1,"column":2060}},{"source":"routes/v1Router.js","name":"err","original":{"line":76,"column":33},"generated":{"line":1,"column":2065}},{"source":"routes/v1Router.js","name":"message","original":{"line":76,"column":37},"generated":{"line":1,"column":2067}},{"source":"routes/v1Router.js","name":"end","original":{"line":76,"column":46},"generated":{"line":1,"column":2076}},{"source":"routes/v1Router.js","name":"router","original":{"line":80,"column":0},"generated":{"line":1,"column":2086}},{"source":"routes/v1Router.js","name":"get","original":{"line":80,"column":7},"generated":{"line":1,"column":2088}},{"source":"routes/v1Router.js","original":{"line":80,"column":11},"generated":{"line":1,"column":2092}},{"source":"routes/v1Router.js","original":{"line":80,"column":22},"generated":{"line":1,"column":2102}},{"source":"routes/v1Router.js","name":"req","original":{"line":80,"column":31},"generated":{"line":1,"column":2111}},{"source":"routes/v1Router.js","name":"res","original":{"line":80,"column":36},"generated":{"line":1,"column":2113}},{"source":"routes/v1Router.js","name":"next","original":{"line":80,"column":41},"generated":{"line":1,"column":2115}},{"source":"routes/v1Router.js","name":"params","original":{"line":81,"column":8},"generated":{"line":1,"column":2118}},{"source":"routes/v1Router.js","name":"params","original":{"line":81,"column":8},"generated":{"line":1,"column":2122}},{"source":"routes/v1Router.js","name":"req","original":{"line":81,"column":17},"generated":{"line":1,"column":2124}},{"source":"routes/v1Router.js","name":"query","original":{"line":81,"column":21},"generated":{"line":1,"column":2126}},{"source":"routes/v1Router.js","name":"Validate","original":{"line":85,"column":4},"generated":{"line":1,"column":2132}},{"source":"routes/v1Router.js","name":"async","original":{"line":85,"column":13},"generated":{"line":1,"column":2134}},{"source":"routes/v1Router.js","name":"params","original":{"line":85,"column":19},"generated":{"line":1,"column":2140}},{"source":"routes/v1Router.js","original":{"line":82,"column":22},"generated":{"line":1,"column":2142}},{"source":"routes/v1Router.js","original":{"line":83,"column":18},"generated":{"line":1,"column":2143}},{"source":"routes/v1Router.js","original":{"line":83,"column":18},"generated":{"line":1,"column":2151}},{"source":"routes/v1Router.js","name":"presence","original":{"line":83,"column":19},"generated":{"line":1,"column":2152}},{"source":"routes/v1Router.js","original":{"line":83,"column":29},"generated":{"line":1,"column":2162}},{"source":"routes/v1Router.js","name":"type","original":{"line":83,"column":34},"generated":{"line":1,"column":2164}},{"source":"routes/v1Router.js","original":{"line":83,"column":40},"generated":{"line":1,"column":2169}},{"source":"routes/v1Router.js","name":"then","original":{"line":86,"column":9},"generated":{"line":1,"column":2181}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2186}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2197}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2201}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2203}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2205}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2224}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2229}},{"source":"routes/v1Router.js","name":"success","original":{"line":86,"column":22},"generated":{"line":1,"column":2238}},{"source":"routes/v1Router.js","name":"success","original":{"line":86,"column":22},"generated":{"line":1,"column":2240}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2243}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2247}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2249}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2256}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2275}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2280}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2289}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2292}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2299}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2306}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2308}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2313}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2315}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2321}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2326}},{"source":"routes/v1Router.js","name":"address","original":{"line":87,"column":18},"generated":{"line":1,"column":2328}},{"source":"routes/v1Router.js","name":"params","original":{"line":87,"column":28},"generated":{"line":1,"column":2330}},{"source":"routes/v1Router.js","name":"address","original":{"line":87,"column":35},"generated":{"line":1,"column":2332}},{"source":"routes/v1Router.js","name":"res","original":{"line":88,"column":12},"generated":{"line":1,"column":2340}},{"source":"routes/v1Router.js","name":"status","original":{"line":88,"column":16},"generated":{"line":1,"column":2342}},{"source":"routes/v1Router.js","original":{"line":88,"column":23},"generated":{"line":1,"column":2349}},{"source":"routes/v1Router.js","name":"json","original":{"line":88,"column":28},"generated":{"line":1,"column":2354}},{"source":"routes/v1Router.js","original":{"line":88,"column":33},"generated":{"line":1,"column":2359}},{"source":"routes/v1Router.js","name":"address","original":{"line":89,"column":16},"generated":{"line":1,"column":2360}},{"source":"routes/v1Router.js","name":"address","original":{"line":89,"column":16},"generated":{"line":1,"column":2368}},{"source":"routes/v1Router.js","name":"balance","original":{"line":90,"column":16},"generated":{"line":1,"column":2370}},{"source":"routes/v1Router.js","name":"Wallet","original":{"line":90,"column":25},"generated":{"line":1,"column":2378}},{"source":"routes/v1Router.js","name":"calculateBalance","original":{"line":90,"column":32},"generated":{"line":1,"column":2380}},{"source":"routes/v1Router.js","original":{"line":90,"column":49},"generated":{"line":1,"column":2397}},{"source":"routes/v1Router.js","name":"chain","original":{"line":90,"column":51},"generated":{"line":1,"column":2398}},{"source":"routes/v1Router.js","name":"blockchain","original":{"line":90,"column":58},"generated":{"line":1,"column":2404}},{"source":"routes/v1Router.js","name":"chain","original":{"line":90,"column":69},"generated":{"line":1,"column":2406}},{"source":"routes/v1Router.js","name":"address","original":{"line":90,"column":76},"generated":{"line":1,"column":2412}},{"source":"routes/v1Router.js","name":"address","original":{"line":90,"column":76},"generated":{"line":1,"column":2420}},{"source":"routes/v1Router.js","name":"end","original":{"line":91,"column":15},"generated":{"line":1,"column":2426}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2432}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2437}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2439}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2443}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2449}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2456}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2458}},{"source":"routes/v1Router.js","original":{"line":86,"column":15},"generated":{"line":1,"column":2467}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2473}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2480}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2489}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2492}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2499}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2501}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2507}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2512}},{"source":"routes/v1Router.js","original":{"line":85,"column":4},"generated":{"line":1,"column":2524}},{"source":"routes/v1Router.js","name":"catch","original":{"line":93,"column":9},"generated":{"line":1,"column":2528}},{"source":"routes/v1Router.js","original":{"line":93,"column":15},"generated":{"line":1,"column":2534}},{"source":"routes/v1Router.js","name":"err","original":{"line":93,"column":15},"generated":{"line":1,"column":2543}},{"source":"routes/v1Router.js","name":"res","original":{"line":95,"column":19},"generated":{"line":1,"column":2546}},{"source":"routes/v1Router.js","name":"console","original":{"line":94,"column":12},"generated":{"line":1,"column":2553}},{"source":"routes/v1Router.js","name":"log","original":{"line":94,"column":20},"generated":{"line":1,"column":2561}},{"source":"routes/v1Router.js","name":"err","original":{"line":94,"column":24},"generated":{"line":1,"column":2565}},{"source":"routes/v1Router.js","name":"res","original":{"line":95,"column":19},"generated":{"line":1,"column":2568}},{"source":"routes/v1Router.js","name":"status","original":{"line":95,"column":23},"generated":{"line":1,"column":2570}},{"source":"routes/v1Router.js","original":{"line":95,"column":30},"generated":{"line":1,"column":2577}},{"source":"routes/v1Router.js","name":"send","original":{"line":95,"column":35},"generated":{"line":1,"column":2582}},{"source":"routes/v1Router.js","name":"err","original":{"line":95,"column":40},"generated":{"line":1,"column":2587}},{"source":"routes/v1Router.js","name":"module","original":{"line":104,"column":0},"generated":{"line":1,"column":2594}},{"source":"routes/v1Router.js","name":"exports","original":{"line":104,"column":7},"generated":{"line":1,"column":2601}},{"source":"routes/v1Router.js","name":"router","original":{"line":104,"column":17},"generated":{"line":1,"column":2609}}],"sources":{"routes/v1Router.js":"const express = require('express');\nconst router = express.Router();\nconst Validate = require('validate.js');\nconst throttledQueue = require('throttled-queue');\nconst throttle = throttledQueue(1, 1000)\n\nconst Blockchain = require('../blockchain/blockchain');\nconst TransactionPool = require('../wallet/transaction_pool');\nconst Wallet = require('../wallet/wallet');\n\nconst blockchain = new Blockchain().getInstance();\nconst transactionPool = new TransactionPool();\nconst wallet = new Wallet();\n\n\nrouter.get('/', function(req, res, next) {\n    return res.status(200).send('Spectre Blockchain API').end();\n});\n\nrouter.get('/blocks', function(req, res, next) {\n\n    return res.status(200).json(blockchain.chain()).end();\n});\n\nrouter.post('/mine', function(req, res, next) {\n    blockchain.addBlock(req.body.data)\n    .then(newBlock => {\n        return res.status(200).json(newBlock).end();\n    })\n});\n\nrouter.post('/transaction', function(req, res, next) {\n    \n    let params = req.body;\n    let transaction = transactionPool.existingTransaction({inputAddress: wallet.publicKey})\n    var constraints = {\n        \"amount\": { presence: true, type: \"number\" },\n        \"recipient\": { presence: true, type: \"string\" },\n    };\n    Validate.async(params, constraints)\n        .then( async (success) => {\n            if(!transaction){\n                try{\n                    transaction = wallet.createTransaction({\n                        recipient: params.recipient,\n                        amount: params.amount\n                    })\n\n                    console.log(`Transaction: ${transaction}`)\n\n\n\n                    transactionPool.setTransaction(transaction);\n                    console.log(`TransactionPool: ${transactionPool}`)\n                    return res.status(200).json({type:'success', transaction}).end();\n                }catch(error){\n                    return res.status(400).json({type: 'error 52', message: error.message}).end();\n                }\n            }else{\n                try{\n                    transaction.update({\n                        senderWallet: wallet, \n                        recipient: params.recipient,\n                        amount: params.amount\n                    })\n                    return res.status(200).json({type:'success', transaction}).end();\n                }catch(error){\n                    return res.status(400).json({type: 'error 63', message: error.message}).end();\n                }\n            }\n            \n           \n        })\n        .catch((err) => {\n            console.log(err.message)\n            res.status(400).send(err.message).end();\n        });\n});\n\nrouter.get('/wallet', function(req, res, next) {\n    let params = req.query\n    var constraints = {\n        \"address\":{presence: true,type: \"string\"} \n    }\n    Validate.async(params, constraints)\n        .then( async (success) => {\n            const address = params.address;\n            res.status(200).json({\n                address,\n                balance: Wallet.calculateBalance({ chain: blockchain.chain, address })\n            }).end();  \n        })\n        .catch(err => {\n            console.log(err)\n            return res.status(400).send(err);\n        });\n  \n    \n});\n\n\n\n\nmodule.exports = router;"},"lineCount":null}},"error":null,"hash":"7bdaebfb094b49cbc11b68216bbd2104","cacheData":{"env":{}}}